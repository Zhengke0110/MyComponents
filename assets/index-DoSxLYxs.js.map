{"version":3,"file":"index-DoSxLYxs.js","sources":["../../src/libs/Comment/Comment.tsx","../../src/libs/Comment/View.vue"],"sourcesContent":["import { defineComponent, PropType, ref, computed, h } from 'vue';\nimport type { CommentData } from './types';\nimport type { VNode } from 'vue';\n\n/**\n * Comment 评论组件\n * 用于展示评论列表、回复功能和评论提交\n */\nexport default defineComponent({\n    name: 'Comment',\n    props: {\n        // 评论数据\n        comments: {\n            type: Array as PropType<CommentData[]>,\n            default: () => []\n        },\n        // 头像形状：\"circle\" | \"square\"\n        avatarShape: {\n            type: String as PropType<'circle' | 'square'>,\n            default: 'circle'\n        },\n        // 每层评论间距\n        nested: {\n            type: Boolean,\n            default: true\n        },\n        // 是否允许回复\n        allowReply: {\n            type: Boolean,\n            default: true\n        },\n        // 加载状态\n        loading: {\n            type: Boolean,\n            default: false\n        },\n        // 自定义头像渲染函数\n        renderAvatar: {\n            type: Function as PropType<(comment: CommentData) => VNode>,\n            default: undefined\n        },\n        // 自定义操作区域渲染函数\n        renderActions: {\n            type: Function as PropType<(comment: CommentData) => VNode[]>,\n            default: undefined\n        }\n    },\n    emits: [\n        'reply', // 回复评论时触发\n        'like',  // 点赞评论时触发\n        'delete', // 删除评论时触发\n        'submit' // 提交新评论时触发\n    ],\n    setup(props, { emit, slots }) {\n        const commentInput = ref('');\n        const replyingTo = ref<string | null>(null);\n\n        const handleReply = (commentId: string) => {\n            replyingTo.value = commentId;\n            emit('reply', commentId);\n        };\n\n        const handleLike = (commentId: string) => {\n            emit('like', commentId);\n        };\n\n        const handleDelete = (commentId: string) => {\n            emit('delete', commentId);\n        };\n\n        const submitComment = () => {\n            if (!commentInput.value.trim()) return;\n\n            emit('submit', {\n                content: commentInput.value,\n                replyTo: replyingTo.value\n            });\n\n            commentInput.value = '';\n            replyingTo.value = null;\n        };\n\n        const renderComment = (comment: CommentData): VNode => {\n            const avatarClasses = computed(() => [\n                'overflow-hidden flex-shrink-0',\n                props.avatarShape === 'circle' ? 'rounded-full' : 'rounded-md',\n                'transition-transform duration-200 hover:scale-105',\n                'w-10 h-10' // 确保头像容器固定宽高比例为1:1\n            ]);\n\n            // 使用Vue的h函数创建VNode而不是使用JSX语法\n            const createReplyButton = () => h('button', {\n                key: 'reply',\n                onClick: () => handleReply(comment.id),\n                class: 'text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors'\n            }, '回复');\n\n            const createDeleteButton = () => h('button', {\n                key: 'delete',\n                onClick: () => handleDelete(comment.id),\n                class: 'text-gray-500 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors ml-4'\n            }, '删除');\n\n            const defaultActions = [createReplyButton()];\n\n            if (comment.allowDelete) {\n                defaultActions.push(createDeleteButton());\n            }\n\n            const actions = props.renderActions\n                ? props.renderActions(comment)\n                : defaultActions;\n\n            return h('div', {\n                key: comment.id,\n                class: 'comment-item transition-all duration-300 ease-in-out'\n            }, [\n                // 评论主体\n                h('div', {\n                    class: 'flex gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors'\n                }, [\n                    // 头像\n                    h('div', {\n                        class: avatarClasses.value\n                    }, [\n                        props.renderAvatar ? props.renderAvatar(comment) : h('img', {\n                            src: comment.avatar,\n                            alt: comment.author,\n                            class: 'w-full h-full object-cover' // 确保图片完全填充容器\n                        })\n                    ]),\n\n                    // 评论内容区域\n                    h('div', {\n                        class: 'flex-1 overflow-hidden'\n                    }, [\n                        // 作者信息\n                        h('div', {\n                            class: 'flex items-center gap-2 mb-1'\n                        }, [\n                            h('span', {\n                                class: 'font-medium text-gray-900 dark:text-white'\n                            }, comment.author),\n\n                            comment.isAuthor ? h('span', {\n                                class: 'text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 px-2 py-0.5 rounded'\n                            }, '作者') : null,\n\n                            h('span', {\n                                class: 'text-sm text-gray-500 dark:text-gray-400'\n                            }, comment.time)\n                        ]),\n\n                        // 评论内容\n                        h('div', {\n                            class: 'text-gray-700 dark:text-gray-300 mb-2 whitespace-pre-wrap break-words'\n                        }, [\n                            comment.replyTo ? h('span', {\n                                class: 'text-blue-500 dark:text-blue-400 mr-1'\n                            }, `@${comment.replyTo.author} `) : null,\n                            comment.content\n                        ]),\n\n                        // 点赞和操作按钮\n                        h('div', {\n                            class: 'flex items-center text-sm'\n                        }, [\n                            h('div', {\n                                class: 'flex space-x-4'\n                            }, [\n                                h('button', {\n                                    onClick: () => handleLike(comment.id),\n                                    class: `flex items-center gap-1 transition-colors ${comment.liked ? 'text-red-500 dark:text-red-400' : 'text-gray-500 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400'\n                                        }`\n                                }, [\n                                    h('svg', {\n                                        xmlns: 'http://www.w3.org/2000/svg',\n                                        class: 'h-4 w-4',\n                                        fill: comment.liked ? 'currentColor' : 'none',\n                                        viewBox: '0 0 24 24',\n                                        stroke: 'currentColor'\n                                    }, [\n                                        h('path', {\n                                            'stroke-linecap': 'round',\n                                            'stroke-linejoin': 'round',\n                                            'stroke-width': '2',\n                                            d: 'M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z'\n                                        })\n                                    ]),\n                                    h('span', {}, comment.likes || 0)\n                                ]),\n\n                                props.allowReply ? actions : null\n                            ])\n                        ])\n                    ])\n                ]),\n\n                // 回复框\n                replyingTo.value === comment.id ? h('div', {\n                    class: 'pl-12 mt-2 animate-fadeIn'\n                }, [\n                    h('div', {\n                        class: 'flex gap-2'\n                    }, [\n                        h('textarea', {\n                            value: commentInput.value,\n                            onInput: (e: Event) => { commentInput.value = (e.target as HTMLTextAreaElement).value },\n                            placeholder: `回复 ${comment.author}...`,\n                            class: 'w-full p-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-all',\n                            rows: 2\n                        }),\n                        h('div', {\n                            class: 'flex flex-col gap-2'\n                        }, [\n                            h('button', {\n                                onClick: submitComment,\n                                class: 'px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors dark:bg-blue-600 dark:hover:bg-blue-500'\n                            }, '发送'),\n                            h('button', {\n                                onClick: () => { replyingTo.value = null },\n                                class: 'px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md transition-colors'\n                            }, '取消')\n                        ])\n                    ])\n                ]) : null,\n\n                // 子评论\n                comment.children && comment.children.length > 0 ? h('div', {\n                    class: `${props.nested ? 'pl-12' : 'mt-4'} space-y-4`\n                }, comment.children.map(child => renderComment(child))) : null\n            ]);\n        };\n\n        return () => h('div', { class: 'comment-container' }, [\n            props.loading ?\n                h('div', { class: 'flex justify-center items-center p-8' }, [\n                    h('div', { class: 'animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 dark:border-blue-400' })\n                ]) :\n                h('div', { class: 'space-y-4' }, [\n                    // 评论列表\n                    ...props.comments.map(comment => renderComment(comment)),\n\n                    // 评论输入区\n                    slots.commentInput ? slots.commentInput() : h('div', { class: 'mt-6' }, [\n                        h('h3', {\n                            class: 'text-lg font-medium text-gray-900 dark:text-white mb-2'\n                        }, '发表评论'),\n                        h('div', { class: 'flex gap-2' }, [\n                            h('textarea', {\n                                value: commentInput.value,\n                                onInput: (e: Event) => { commentInput.value = (e.target as HTMLTextAreaElement).value },\n                                placeholder: '写下你的评论...',\n                                class: 'w-full p-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-all',\n                                rows: 4\n                            })\n                        ]),\n                        h('div', { class: 'flex justify-end mt-2' }, [\n                            h('button', {\n                                onClick: submitComment,\n                                disabled: !commentInput.value.trim(),\n                                class: 'px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors focus:ring-2 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-500 dark:focus:ring-blue-400 disabled:opacity-50 disabled:pointer-events-none'\n                            }, '提交评论')\n                        ])\n                    ])\n                ])\n        ]);\n    }\n});\n","<template>\n    <div class=\"p-6 transition-colors duration-300 ease-in-out bg-gray-50 dark:bg-gray-900 min-h-screen\">\n        <div class=\"max-w-4xl mx-auto\">\n            <h1 class=\"text-3xl font-bold text-gray-900 dark:text-white mb-8\">Comment 评论组件</h1>\n\n            <div class=\"space-y-10\">\n                <!-- 基础评论展示 -->\n                <section class=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 transition-all duration-300\">\n                    <h2 class=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">基础评论</h2>\n                    <Comment :comments=\"basicComments\" />\n                </section>\n\n                <!-- 多层嵌套评论 -->\n                <section class=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 transition-all duration-300\">\n                    <h2 class=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">嵌套评论</h2>\n                    <div class=\"flex items-center mb-4\">\n                        <span class=\"text-gray-700 dark:text-gray-300 mr-2\">嵌套样式:</span>\n                        <label class=\"switch mr-4\">\n                            <input type=\"checkbox\" v-model=\"nested\">\n                            <span class=\"slider round\"></span>\n                        </label>\n                        <span class=\"text-sm text-gray-600 dark:text-gray-400\">{{ nested ? '启用' : '禁用' }}</span>\n                    </div>\n                    <Comment :comments=\"nestedComments\" :nested=\"nested\" />\n                </section>\n\n                <!-- 头像样式 -->\n                <section class=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 transition-all duration-300\">\n                    <h2 class=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">头像样式</h2>\n                    <div class=\"flex items-center mb-4 space-x-4\">\n                        <button @click=\"avatarShape = 'circle'\" class=\"px-4 py-2 rounded-md transition-colors\"\n                            :class=\"avatarShape === 'circle' ? 'bg-blue-500 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'\">\n                            圆形头像\n                        </button>\n                        <button @click=\"avatarShape = 'square'\" class=\"px-4 py-2 rounded-md transition-colors\"\n                            :class=\"avatarShape === 'square' ? 'bg-blue-500 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'\">\n                            方形头像\n                        </button>\n                    </div>\n                    <Comment :comments=\"basicComments\" :avatarShape=\"avatarShape\" />\n                </section>\n\n                <!-- 自定义渲染 -->\n                <section class=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 transition-all duration-300\">\n                    <h2 class=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">自定义渲染</h2>\n                    <Comment :comments=\"basicComments\" :renderAvatar=\"renderCustomAvatar\"\n                        :renderActions=\"renderCustomActions\" />\n                </section>\n\n                <!-- 点赞和删除交互 -->\n                <section class=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 transition-all duration-300\">\n                    <h2 class=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">交互功能演示</h2>\n                    <div class=\"flex flex-wrap gap-4 mb-4\">\n                        <div class=\"flex items-center\">\n                            <span class=\"text-gray-700 dark:text-gray-300 mr-2\">允许回复:</span>\n                            <label class=\"switch\">\n                                <input type=\"checkbox\" v-model=\"allowReply\">\n                                <span class=\"slider round\"></span>\n                            </label>\n                        </div>\n                    </div>\n                    <Comment :comments=\"interactiveComments\" :allowReply=\"allowReply\" @like=\"handleLike\"\n                        @delete=\"handleDelete\" @reply=\"handleReply\" @submit=\"handleSubmit\" />\n                </section>\n\n                <!-- 加载状态 -->\n                <section class=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 transition-all duration-300\">\n                    <h2 class=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">加载状态</h2>\n                    <div class=\"flex items-center mb-4\">\n                        <button @click=\"isLoading = !isLoading\"\n                            class=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\">\n                            {{ isLoading ? '停止加载' : '模拟加载' }}\n                        </button>\n                    </div>\n                    <Comment :comments=\"basicComments\" :loading=\"isLoading\" />\n                </section>\n\n                <!-- 自定义评论输入区 -->\n                <section class=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 transition-all duration-300\">\n                    <h2 class=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">自定义评论输入</h2>\n                    <Comment :comments=\"basicComments\">\n                        <template #commentInput>\n                            <div\n                                class=\"mt-4 bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg border border-blue-100 dark:border-blue-800\">\n                                <h3 class=\"text-lg font-medium text-blue-800 dark:text-blue-300 mb-3 flex items-center\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\"\n                                        fill=\"currentColor\">\n                                        <path fill-rule=\"evenodd\"\n                                            d=\"M18 10c0 4.4-3.6 8-8 8s-8-3.6-8-8 3.6-8 8-8 8 3.6 8 8zm-8-5a1 1 0 100 2 1 1 0 000-2zm0 3a1 1 0 011 1v4a1 1 0 11-2 0v-4a1 1 0 011-1z\"\n                                            clip-rule=\"evenodd\" />\n                                    </svg>\n                                    自定义评论输入框\n                                </h3>\n                                <div class=\"flex gap-3\">\n                                    <div\n                                        class=\"w-10 h-10 rounded-full bg-blue-200 dark:bg-blue-700 flex items-center justify-center overflow-hidden flex-shrink-0\">\n                                        <span class=\"text-blue-700 dark:text-blue-300 font-bold\">ME</span>\n                                    </div>\n                                    <div class=\"flex-1\">\n                                        <textarea v-model=\"customInput\"\n                                            class=\"w-full p-3 rounded-lg border border-blue-200 dark:border-blue-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-400 dark:focus:ring-blue-600 transition-all\"\n                                            placeholder=\"分享你的想法...\" rows=\"3\"></textarea>\n                                        <div class=\"flex justify-between mt-2\">\n                                            <div class=\"flex items-center text-sm text-gray-500 dark:text-gray-400\">\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 mr-1\" fill=\"none\"\n                                                    viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                                                        stroke-width=\"2\"\n                                                        d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                                </svg>\n                                                请文明评论\n                                            </div>\n                                            <button\n                                                class=\"px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors flex items-center\"\n                                                :class=\"{ 'opacity-50 cursor-not-allowed': !customInput.trim() }\"\n                                                :disabled=\"!customInput.trim()\">\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-4 w-4 mr-1\"\n                                                    viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                                                    <path\n                                                        d=\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11h4a1 1 0 00.894-.553l3-6A1 1 0 0016 3h-1.586a1 1 0 00-.707.293l-2 2-4.586-4.586z\" />\n                                                </svg>\n                                                发送\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </template>\n                    </Comment>\n                </section>\n\n                <!-- API 文档部分 -->\n                <section class=\"mb-10\">\n                    <h2 class=\"mb-4 text-xl font-semibold text-gray-900 dark:text-white\">组件API</h2>\n                    <div class=\"rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800\">\n                        <h3 class=\"mb-4 text-lg font-medium text-gray-900 dark:text-white\">属性 (Props)</h3>\n                        <div class=\"mb-6 overflow-x-auto\">\n                            <table class=\"min-w-full border-collapse\">\n                                <thead>\n                                    <tr class=\"border-b border-gray-200 dark:border-gray-700\">\n                                        <th class=\"px-4 py-2 text-left font-medium text-gray-900 dark:text-white\">属性名</th>\n                                        <th class=\"px-4 py-2 text-left font-medium text-gray-900 dark:text-white\">类型</th>\n                                        <th class=\"px-4 py-2 text-left font-medium text-gray-900 dark:text-white\">默认值</th>\n                                        <th class=\"px-4 py-2 text-left font-medium text-gray-900 dark:text-white\">描述</th>\n                                    </tr>\n                                </thead>\n                                <tbody class=\"divide-y divide-gray-200 dark:divide-gray-700\">\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">comments</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">CommentData[]</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">[]</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">评论数据数组</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">avatarShape</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">'circle' | 'square'</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">'circle'</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">头像形状</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">nested</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">boolean</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">true</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">是否使用缩进样式显示嵌套评论</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">allowReply</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">boolean</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">true</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">是否允许回复评论</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">loading</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">boolean</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">false</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">是否显示加载状态</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">renderAvatar</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">(comment: CommentData) => VNode</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">undefined</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">自定义头像渲染函数</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">renderActions</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">(comment: CommentData) => VNode[]</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">undefined</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">自定义操作区域渲染函数</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n\n                        <h3 class=\"mb-4 text-lg font-medium text-gray-900 dark:text-white\">事件 (Events)</h3>\n                        <div class=\"mb-6 overflow-x-auto\">\n                            <table class=\"min-w-full border-collapse\">\n                                <thead>\n                                    <tr class=\"border-b border-gray-200 dark:border-gray-700\">\n                                        <th class=\"px-4 py-2 text-left font-medium text-gray-900 dark:text-white\">事件名</th>\n                                        <th class=\"px-4 py-2 text-left font-medium text-gray-900 dark:text-white\">回调参数</th>\n                                        <th class=\"px-4 py-2 text-left font-medium text-gray-900 dark:text-white\">描述</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">reply</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">(commentId: string)</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">用户点击回复按钮时触发</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">like</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">(commentId: string)</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">用户点赞评论时触发</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">delete</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">(commentId: string)</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">用户删除评论时触发</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">submit</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">({ content: string, replyTo: string | null })</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">用户提交评论或回复时触发</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n\n                        <h3 class=\"mb-4 text-lg font-medium text-gray-900 dark:text-white\">插槽 (Slots)</h3>\n                        <div class=\"overflow-x-auto\">\n                            <table class=\"min-w-full border-collapse\">\n                                <thead>\n                                    <tr class=\"border-b border-gray-200 dark:border-gray-700\">\n                                        <th class=\"px-4 py-2 text-left font-medium text-gray-900 dark:text-white\">插槽名</th>\n                                        <th class=\"px-4 py-2 text-left font-medium text-gray-900 dark:text-white\">描述</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">commentInput</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">自定义评论输入区域</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </section>\n\n                <!-- 数据结构说明 -->\n                <section class=\"mb-10\">\n                    <h2 class=\"mb-4 text-xl font-semibold text-gray-900 dark:text-white\">数据结构说明</h2>\n                    <div class=\"rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800\">\n                        <h3 class=\"mb-4 text-lg font-medium text-gray-900 dark:text-white\">CommentData 接口</h3>\n                        <div class=\"mb-6 overflow-x-auto\">\n                            <table class=\"min-w-full border-collapse\">\n                                <thead>\n                                    <tr class=\"border-b border-gray-200 dark:border-gray-700\">\n                                        <th class=\"px-4 py-2 text-left font-medium text-gray-900 dark:text-white\">属性名</th>\n                                        <th class=\"px-4 py-2 text-left font-medium text-gray-900 dark:text-white\">类型</th>\n                                        <th class=\"px-4 py-2 text-left font-medium text-gray-900 dark:text-white\">必填</th>\n                                        <th class=\"px-4 py-2 text-left font-medium text-gray-900 dark:text-white\">描述</th>\n                                    </tr>\n                                </thead>\n                                <tbody class=\"divide-y divide-gray-200 dark:divide-gray-700\">\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">id</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">string</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">是</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">评论唯一标识</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">author</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">string</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">是</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">作者名称</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">avatar</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">string</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">是</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">作者头像URL</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">content</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">string</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">是</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">评论内容</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">time</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">string</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">是</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">评论时间</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">likes</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">number</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">否</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">点赞数</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">liked</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">boolean</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">否</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">当前用户是否点赞</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">isAuthor</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">boolean</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">否</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">是否是原作者</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">allowDelete</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">boolean</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">否</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">是否允许删除</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">replyTo</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">{ id: string, author: string }</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">否</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">回复目标信息</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"px-4 py-2 font-medium text-gray-900 dark:text-white\">children</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">CommentData[]</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">否</td>\n                                        <td class=\"px-4 py-2 text-gray-700 dark:text-gray-300\">子评论数组</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </section>\n\n                <!-- 小结与最佳实践 -->\n                <section class=\"mb-10\">\n                    <h2 class=\"mb-4 text-xl font-semibold text-gray-900 dark:text-white\">小结与最佳实践</h2>\n                    <div class=\"rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800\">\n                        <div class=\"space-y-4\">\n                            <p class=\"text-gray-700 dark:text-gray-300\">\n                                Comment 组件是一个功能全面的评论系统组件，适用于博客、社交媒体、产品评价等场景。\n                                以下是一些使用建议：\n                            </p>\n\n                            <ul class=\"ml-6 list-disc space-y-2 text-gray-700 dark:text-gray-300\">\n                                <li>根据不同的应用场景选择适合的头像形状，\n                                    <span class=\"inline-flex items-center\">\n                                        <div class=\"w-5 h-5 rounded-full bg-gray-200 dark:bg-gray-700 mr-1\"></div>\n                                        圆形头像适合社交媒体\n                                    </span>\n                                    或\n                                    <span class=\"inline-flex items-center\">\n                                        <div class=\"w-5 h-5 rounded-md bg-gray-200 dark:bg-gray-700 mr-1\"></div>\n                                        方形头像适合专业平台\n                                    </span>\n                                </li>\n                                <li>在深层嵌套评论时，可以考虑禁用嵌套样式以提高可读性</li>\n                                <li>评论数据的 <code class=\"bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded\">isAuthor</code> 字段可以用来突显原内容作者</li>\n                                <li>使用 <code class=\"bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded\">renderAvatar</code> 和 <code class=\"bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded\">renderActions</code> 自定义评论外观</li>\n                                <li>可以通过 <code class=\"bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded\">commentInput</code> 插槽定制评论输入区域</li>\n                            </ul>\n\n                            <div\n                                class=\"rounded-lg border border-blue-100 bg-blue-50 p-4 dark:border-blue-900 dark:bg-blue-900/20\">\n                                <h4 class=\"mb-2 flex items-center text-blue-800 dark:text-blue-300\">\n                                    <span class=\"icon-[material-symbols--info-outline-rounded] mr-2 h-5 w-5\"></span>\n                                    深色模式支持\n                                </h4>\n                                <p class=\"text-sm text-blue-700 dark:text-blue-300\">\n                                    Comment 组件已内置支持暗色模式，无需额外配置。组件会自动适应 <code\n                                        class=\"rounded bg-blue-100 px-1 py-0.5 font-mono dark:bg-blue-800/60\">.dark</code> 类，\n                                    并调整所有内部元素的颜色和背景。包括评论区、回复框、按钮等，全部适配深色模式。\n                                </p>\n                            </div>\n\n                            <p class=\"text-gray-700 dark:text-gray-300\">\n                                处理评论数据时，建议在服务端实现分页逻辑，避免一次性加载过多评论导致性能问题。\n                                此外，针对敏感内容，可在服务端实现内容过滤，保障评论区的健康环境。\n                            </p>\n\n                            <div class=\"rounded-lg border border-amber-100 bg-amber-50 p-4 dark:border-amber-900/50 dark:bg-amber-900/10\">\n                                <h4 class=\"mb-2 flex items-center text-amber-800 dark:text-amber-300\">\n                                    <span class=\"icon-[material-symbols--tips-and-updates-outline-rounded] mr-2 h-5 w-5\"></span>\n                                    提示\n                                </h4>\n                                <p class=\"text-sm text-amber-700 dark:text-amber-300\">\n                                    对于高交互场景，建议配合状态管理库(如Pinia)使用，以便更好地管理评论状态的变化，\n                                    特别是在处理点赞、删除、回复等操作时，可以保持数据的一致性。\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, h } from 'vue';\nimport Comment from './Comment';\nimport type { CommentData } from './types';\n\n// 状态变量\nconst nested = ref(true);\nconst avatarShape = ref<'circle' | 'square'>('circle');\nconst allowReply = ref(true);\nconst isLoading = ref(false);\nconst customInput = ref('');\nconst interactiveComments = ref<CommentData[]>([\n    {\n        id: '1',\n        author: '张三',\n        avatar: 'https://randomuser.me/api/portraits/men/1.jpg',\n        content: '这是一条可交互的评论，你可以点赞、回复或删除它。',\n        time: '刚刚',\n        likes: 5,\n        liked: false,\n        allowDelete: true,\n        isAuthor: false,\n        children: []\n    }\n]);\n\n// 基础评论数据\nconst basicComments = ref<CommentData[]>([\n    {\n        id: '1',\n        author: '张三',\n        avatar: 'https://randomuser.me/api/portraits/men/1.jpg',\n        content: '这个组件的设计非常棒，代码结构也很清晰！',\n        time: '2小时前',\n        likes: 15,\n        liked: true,\n        isAuthor: false,\n    },\n    {\n        id: '2',\n        author: '李四',\n        avatar: 'https://randomuser.me/api/portraits/women/2.jpg',\n        content: '我发现了一个小问题，在移动设备上显示不太正常。',\n        time: '昨天 14:30',\n        likes: 8,\n        liked: false,\n        isAuthor: true,\n    }\n]);\n\n// 嵌套评论数据\nconst nestedComments = ref<CommentData[]>([\n    {\n        id: '1',\n        author: '张三',\n        avatar: 'https://randomuser.me/api/portraits/men/3.jpg',\n        content: '这是一个关于嵌套评论的讨论。',\n        time: '3天前',\n        likes: 24,\n        liked: false,\n        isAuthor: true,\n        children: [\n            {\n                id: '1-1',\n                author: '李四',\n                avatar: 'https://randomuser.me/api/portraits/women/4.jpg',\n                content: '我同意你的观点，确实如此！',\n                time: '3天前',\n                likes: 12,\n                liked: true,\n                replyTo: {\n                    id: '1',\n                    author: '张三'\n                },\n                children: [\n                    {\n                        id: '1-1-1',\n                        author: '王五',\n                        avatar: 'https://randomuser.me/api/portraits/men/5.jpg',\n                        content: '这已经是三层嵌套了，我们可以测试更深的嵌套效果。',\n                        time: '2天前',\n                        likes: 6,\n                        liked: false,\n                        replyTo: {\n                            id: '1-1',\n                            author: '李四'\n                        },\n                        children: [\n                            {\n                                id: '1-1-1-1',\n                                author: '赵六',\n                                avatar: 'https://randomuser.me/api/portraits/women/6.jpg',\n                                content: '四层嵌套评论，看看效果如何。',\n                                time: '1天前',\n                                likes: 3,\n                                liked: false,\n                                replyTo: {\n                                    id: '1-1-1',\n                                    author: '王五'\n                                }\n                            }\n                        ]\n                    }\n                ]\n            },\n            {\n                id: '1-2',\n                author: '钱七',\n                avatar: 'https://randomuser.me/api/portraits/men/7.jpg',\n                content: '这是另一个回复主评论的嵌套评论。',\n                time: '2天前',\n                likes: 8,\n                liked: false,\n                replyTo: {\n                    id: '1',\n                    author: '张三'\n                }\n            }\n        ]\n    }\n]);\n\n// 自定义头像渲染函数\nconst renderCustomAvatar = (comment: CommentData) => {\n    const firstLetter = comment.author.charAt(0).toUpperCase();\n    const colorClasses = {\n        '张': 'bg-red-200 dark:bg-red-800 text-red-700 dark:text-red-200',\n        '李': 'bg-blue-200 dark:bg-blue-800 text-blue-700 dark:text-blue-200',\n        '王': 'bg-green-200 dark:bg-green-800 text-green-700 dark:text-green-200',\n        '赵': 'bg-purple-200 dark:bg-purple-800 text-purple-700 dark:text-purple-200',\n        '钱': 'bg-yellow-200 dark:bg-yellow-800 text-yellow-700 dark:text-yellow-200'\n    };\n\n    // @ts-ignore - 动态键索引\n    const colorClass = colorClasses[comment.author.charAt(0)] || 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200';\n\n    return h('div', {\n        class: `w-10 h-10 rounded-full ${colorClass} flex items-center justify-center`,\n    }, firstLetter);\n};\n\n// 自定义操作区渲染函数\nconst renderCustomActions = (comment: CommentData) => {\n    return [\n        h('button', {\n            class: 'flex items-center text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors',\n        }, [\n            h('svg', {\n                xmlns: 'http://www.w3.org/2000/svg',\n                class: 'h-4 w-4 mr-1',\n                fill: 'none',\n                viewBox: '0 0 24 24',\n                stroke: 'currentColor'\n            }, [\n                h('path', {\n                    'stroke-linecap': 'round',\n                    'stroke-linejoin': 'round',\n                    'stroke-width': '2',\n                    d: 'M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z'\n                })\n            ]),\n            '回复'\n        ]),\n        h('button', {\n            class: 'flex items-center text-gray-500 dark:text-gray-400 hover:text-green-500 dark:hover:text-green-400 transition-colors ml-4',\n        }, [\n            h('svg', {\n                xmlns: 'http://www.w3.org/2000/svg',\n                class: 'h-4 w-4 mr-1',\n                fill: 'none',\n                viewBox: '0 0 24 24',\n                stroke: 'currentColor'\n            }, [\n                h('path', {\n                    'stroke-linecap': 'round',\n                    'stroke-linejoin': 'round',\n                    'stroke-width': '2',\n                    d: 'M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z'\n                })\n            ]),\n            '分享'\n        ]),\n        h('button', {\n            class: 'flex items-center text-gray-500 dark:text-gray-400 hover:text-yellow-500 dark:hover:text-yellow-400 transition-colors ml-4',\n        }, [\n            h('svg', {\n                xmlns: 'http://www.w3.org/2000/svg',\n                class: 'h-4 w-4 mr-1',\n                fill: 'none',\n                viewBox: '0 0 24 24',\n                stroke: 'currentColor'\n            }, [\n                h('path', {\n                    'stroke-linecap': 'round',\n                    'stroke-linejoin': 'round',\n                    'stroke-width': '2',\n                    d: 'M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z'\n                })\n            ]),\n            '收藏'\n        ])\n    ];\n};\n\n// 事件处理函数\nconst handleLike = (commentId: string) => {\n    // 查找并更新点赞状态\n    const updateLike = (comments: CommentData[]): boolean => {\n        for (const comment of comments) {\n            if (comment.id === commentId) {\n                comment.liked = !comment.liked;\n                comment.likes = (comment.likes || 0) + (comment.liked ? 1 : -1);\n                return true;\n            }\n            if (comment.children?.length) {\n                if (updateLike(comment.children)) return true;\n            }\n        }\n        return false;\n    };\n\n    updateLike(interactiveComments.value);\n};\n\nconst handleDelete = (commentId: string) => {\n    // 查找并删除评论\n    const deleteComment = (comments: CommentData[]): boolean => {\n        for (let i = 0; i < comments.length; i++) {\n            if (comments[i].id === commentId) {\n                comments.splice(i, 1);\n                return true;\n            }\n            if (comments[i].children?.length) {\n                if (deleteComment(comments[i].children!)) return true;\n            }\n        }\n        return false;\n    };\n\n    deleteComment(interactiveComments.value);\n};\n\nconst handleReply = (commentId: string) => {\n    console.log('回复评论:', commentId);\n};\n\nconst handleSubmit = (data: { content: string, replyTo: string | null }) => {\n    // 添加新评论或回复\n    if (data.replyTo) {\n        // 查找被回复的评论并添加回复\n        const addReply = (comments: CommentData[], replyToId: string, content: string): boolean => {\n            for (const comment of comments) {\n                if (comment.id === replyToId) {\n                    if (!comment.children) comment.children = [];\n                    comment.children.push({\n                        id: Date.now().toString(),\n                        author: '当前用户',\n                        avatar: 'https://randomuser.me/api/portraits/men/42.jpg',\n                        content: content,\n                        time: '刚刚',\n                        likes: 0,\n                        liked: false,\n                        allowDelete: true,\n                        replyTo: {\n                            id: comment.id,\n                            author: comment.author\n                        }\n                    });\n                    return true;\n                }\n                if (comment.children?.length) {\n                    if (addReply(comment.children, replyToId, content)) return true;\n                }\n            }\n            return false;\n        };\n\n        addReply(interactiveComments.value, data.replyTo, data.content);\n    } else {\n        // 添加新评论\n        interactiveComments.value.push({\n            id: Date.now().toString(),\n            author: '当前用户',\n            avatar: 'https://randomuser.me/api/portraits/men/42.jpg',\n            content: data.content,\n            time: '刚刚',\n            likes: 0,\n            liked: false,\n            allowDelete: true,\n            children: []\n        });\n    }\n};\n</script>\n\n<style scoped>\n/* 切换开关样式 */\n.switch {\n    position: relative;\n    display: inline-block;\n    width: 48px;\n    height: 24px;\n}\n\n.switch input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n}\n\n.slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #ccc;\n    transition: .4s;\n}\n\n.slider:before {\n    position: absolute;\n    content: \"\";\n    height: 16px;\n    width: 16px;\n    left: 4px;\n    bottom: 4px;\n    background-color: white;\n    transition: .4s;\n}\n\ninput:checked+.slider {\n    background-color: #3b82f6;\n}\n\ninput:focus+.slider {\n    box-shadow: 0 0 1px #3b82f6;\n}\n\ninput:checked+.slider:before {\n    transform: translateX(24px);\n}\n\n.slider.round {\n    border-radius: 34px;\n}\n\n.slider.round:before {\n    border-radius: 50%;\n}\n\n/* 添加淡入淡出动画 */\n@keyframes fadeIn {\n    from {\n        opacity: 0;\n        transform: translateY(10px);\n    }\n\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.animate-fadeIn {\n    animation: fadeIn 0.3s ease-out forwards;\n}\n\n/* 添加卡片悬浮效果 */\nsection {\n    transition: all 0.3s ease;\n}\n\nsection:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n}\n\n/* 深色模式下的卡片悬浮效果 */\n:global(.dark) section:hover {\n    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);\n}\n</style>"],"names":["defineComponent","name","props","comments","type","Array","default","avatarShape","String","nested","Boolean","allowReply","loading","renderAvatar","Function","undefined","renderActions","emits","setup","emit","slots","commentInput","ref","replyingTo","handleReply","commentId","value","handleLike","handleDelete","submitComment","trim","content","replyTo","renderComment","comment","avatarClasses","computed","createReplyButton","h","key","onClick","id","class","createDeleteButton","defaultActions","allowDelete","push","actions","src","avatar","alt","author","isAuthor","time","liked","xmlns","fill","viewBox","stroke","d","likes","onInput","e","target","placeholder","rows","children","length","map","child","disabled","isLoading","customInput","interactiveComments","basicComments","nestedComments","renderCustomAvatar","firstLetter","colorClass","renderCustomActions","updateLike","_a","deleteComment","i","handleSubmit","data","addReply","replyToId"],"mappings":"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"}